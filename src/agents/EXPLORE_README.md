# Explore 代理

快速代码库探索代理，专门用于高效地查找文件、搜索代码和理解代码结构。

## 功能特性

### 1. 快速文件搜索
- 支持 glob 模式匹配（如 `**/*.ts`, `src/**/*.js`）
- 按修改时间自动排序
- 智能过滤常见目录（node_modules, .git, dist 等）
- 支持隐藏文件搜索

### 2. 代码内容搜索
- 基于 ripgrep 的高性能搜索
- 支持正则表达式
- 提供上下文行显示
- 自动回退到 grep（当 ripgrep 不可用时）

### 3. 代码结构分析
- 自动检测文件语言类型
- 提取导出、导入、类、函数、接口
- 目录树结构分析
- 代码统计信息（行数、大小等）

### 4. 彻底程度控制
- **quick**: 快速搜索，最多 20 个结果，1 行上下文
- **medium**: 中等深度，最多 50 个结果，3 行上下文
- **very thorough**: 全面分析，最多 200 个结果，5 行上下文

## 核心功能列表

1. **文件搜索** (`findFiles`)
   - Glob 模式匹配
   - 按修改时间排序
   - 自动过滤忽略目录

2. **代码搜索** (`searchCode`)
   - 关键词搜索
   - 正则表达式支持
   - 上下文行显示

3. **语义搜索** (`semanticSearch`)
   - 结合文件名和内容搜索
   - 智能查询理解
   - 多关键词支持

4. **结构分析** (`analyzeStructure`)
   - 文件/目录分析
   - 提取代码元素
   - 语言自动检测

5. **彻底程度控制**
   - 三级深度控制
   - 自动结果限制
   - 上下文行数调整

## 技术实现

### 查询类型检测
自动识别三种查询类型：
- **pattern**: 文件模式（包含 glob 通配符）
- **code**: 代码内容（包含编程关键字）
- **semantic**: 语义搜索（其他情况）

### 性能优化
- 并行搜索支持
- 结果数量限制
- 智能缓存策略
- 增量加载结果

### 语言支持
当前支持 10+ 种编程语言的结构分析，包括：
- TypeScript/JavaScript
- Python
- Go
- Rust
- Java
- C/C++

## 使用示例

参见 `explore.example.ts` 文件获取完整使用示例。

## 代码统计

- **主文件**: `explore.ts` - 745 行
- **示例文件**: `explore.example.ts` - 169 行
- **总计**: 914 行代码

