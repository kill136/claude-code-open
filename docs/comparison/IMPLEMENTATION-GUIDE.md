# Claude Code æºç å®ç°æŒ‡å—

> **æœ¬æ–‡æ¡£åŸºäº 44 ä¸ªåŠŸèƒ½æ¨¡å—çš„æ·±åº¦å¯¹æ¯”åˆ†æç”Ÿæˆ**
> **å‚è€ƒç‰ˆæœ¬**: @anthropic-ai/claude-code v2.0.76
> **åˆ†ææ—¶é—´**: 2025-12-26
> **ç›®æ ‡**: ä¸ºå›¢é˜Ÿæä¾›æ˜ç¡®çš„æºç è¡¥é½è·¯çº¿å›¾

---

## ğŸ“Š æ•´ä½“å®Œæˆåº¦æ¦‚è§ˆ

### å®é™…åˆ†æç»“æœ vs åŸå§‹æ–‡æ¡£è®°å½•

| æ¨¡å— | åŸå§‹è®°å½• | å®é™…åˆ†æ | å·®å¼‚è¯´æ˜ |
|-----|---------|---------|---------|
| CLI å…¥å£å±‚ | 85% | 85% | ä¸€è‡´ |
| API å®¢æˆ·ç«¯ | 60% | 75% | å®é™…æ›´å¥½ |
| å¤šæ¨¡å‹æ”¯æŒ | 54% | 70% | å®é™…æ›´å¥½ |
| ä¼šè¯å¾ªç¯ | 45% | 65% | å®é™…æ›´å¥½ |
| å·¥å…·åŸºç¡€æ¶æ„ | 62% | 78% | å®é™…æ›´å¥½ |
| æ–‡ä»¶æ“ä½œå·¥å…· | 83% | 88% | å®é™…æ›´å¥½ |
| æœç´¢å·¥å…· | 96% | 96% | ä¸€è‡´ |
| Bash å·¥å…· | 96% | 96% | ä¸€è‡´ |
| Web å·¥å…· | 20% | 45% | å®é™…æ›´å¥½ |
| å…¶ä»–å·¥å…· | 84% | 84% | ä¸€è‡´ |
| æƒé™ç³»ç»Ÿ | 95% | 95% | ä¸€è‡´ |
| æ²™ç®±ç³»ç»Ÿ | 46% | 60% | å®é™…æ›´å¥½ |
| ä¼šè¯ç®¡ç† | 67% | 75% | å®é™…æ›´å¥½ |
| é…ç½®ç³»ç»Ÿ | 70% | 78% | å®é™…æ›´å¥½ |
| MCP é›†æˆ | 67% | 75% | å®é™…æ›´å¥½ |
| Hooks ç³»ç»Ÿ | 95% | 95% | ä¸€è‡´ |
| æ’ä»¶ç³»ç»Ÿ | 80% | 85% | å®é™…æ›´å¥½ |
| UI ç»„ä»¶ | 87% | 87% | ä¸€è‡´ |
| è®¤è¯æˆæƒ | 66% | 72% | å®é™…æ›´å¥½ |
| äº‘å¹³å°é›†æˆ | 84% | 84% | ä¸€è‡´ |
| ä»£ç è§£æ | 23% | 35% | å®é™…æ›´å¥½ |
| æ–œæ å‘½ä»¤ | 88% | 90% | å®é™…æ›´å¥½ |
| Plan æ¨¡å¼ | 59% | 68% | å®é™…æ›´å¥½ |
| é¥æµ‹ç›‘æ§ | ç‹¬ç«‹å®ç° | 80% | ä¸åŒè®¾è®¡ |
| Tmux é›†æˆ | 100% | 100% | â­ ç‹¬æœ‰ç‰¹æ€§ |
| Git é›†æˆ | 19% | 92% | **æ–‡æ¡£ä¸¥é‡è¿‡æ—¶** |
| é”™è¯¯å¤„ç† | 57% | 70% | å®é™…æ›´å¥½ |
| ä¸Šä¸‹æ–‡ç®¡ç† | 38% | 55% | å®é™…æ›´å¥½ |
| æµå¼å¤„ç† | 35% | 60% | å®é™…æ›´å¥½ |
| IDE é›†æˆ | 30% | 45% | å®é™…æ›´å¥½ |
| åª’ä½“å¤„ç† | 37% | 47% | å®é™…æ›´å¥½ |
| ç½‘ç»œä¸ä»£ç† | 50% | 95% | **æ–‡æ¡£ä¸¥é‡è¿‡æ—¶** |
| å­ä»£ç†ç³»ç»Ÿ | 81% | 95% | å®é™…æ›´å¥½ |
| å®‰å…¨éªŒè¯ | 43% | 42.5% | ä¸€è‡´ |
| ç³»ç»Ÿæç¤ºè¯ | 22% | 85% | **æ–‡æ¡£ä¸¥é‡è¿‡æ—¶** |
| è´¹ç”¨é…é¢ | åŸºç¡€å®ç° | 85% | å®é™…æ›´å¥½ |
| é”®ç›˜äº¤äº’ | 58% | 58% | ä¸€è‡´ |
| Diff å˜æ›´ | 80% | 80% | ä¸€è‡´ |
| åå°ä»»åŠ¡ | 56% | 56% | ä¸€è‡´ |
| ç¯å¢ƒå˜é‡ | 53% | 53% | ä¸€è‡´ |
| æ–‡ä»¶æ£€æŸ¥ç‚¹ | 100% | 100% | â­ ç‹¬æœ‰ç‰¹æ€§ |
| WebSocket | 0% | 95% | **æ–‡æ¡£ä¸¥é‡è¿‡æ—¶** |
| æ¨¡å‹é…ç½® | 29% | 93.5% | **æ–‡æ¡£ä¸¥é‡è¿‡æ—¶** |
| Action ç”Ÿå‘½å‘¨æœŸ | 0% | 83.3% | **æ–‡æ¡£ä¸¥é‡è¿‡æ—¶** |

### æ›´æ­£åçš„æ•´ä½“å¹³å‡å®Œæˆåº¦: **çº¦ 75%**

---

## ğŸ¯ ä¼˜å…ˆçº§åˆ†ç±»

### P0 - ç´§æ€¥è¡¥é½ (å®‰å…¨/æ ¸å¿ƒåŠŸèƒ½)

| ä»»åŠ¡ | æ¨¡å— | å½“å‰ | ç›®æ ‡ | è´Ÿè´£äºº |
|-----|-----|-----|-----|-------|
| å®‰å…¨éªŒè¯å®Œå–„ | 34-security | 42.5% | 90% | å¾…åˆ†é… |
| ä»£ç è§£æå™¨å¢å¼º | 21-parser | 35% | 80% | å¾…åˆ†é… |
| åª’ä½“å¤„ç†-PDFæ”¯æŒ | 31-media | 47% | 85% | å¾…åˆ†é… |
| IDE é›†æˆ-LSP | 30-ide | 45% | 75% | å¾…åˆ†é… |

### P1 - é‡è¦æ”¹è¿› (ç”¨æˆ·ä½“éªŒ)

| ä»»åŠ¡ | æ¨¡å— | å½“å‰ | ç›®æ ‡ | è´Ÿè´£äºº |
|-----|-----|-----|-----|-------|
| Web å·¥å…·å¢å¼º | 09-web-tools | 45% | 80% | å¾…åˆ†é… |
| ä¸Šä¸‹æ–‡ç®¡ç†ä¼˜åŒ– | 28-context | 55% | 80% | å¾…åˆ†é… |
| åå°ä»»åŠ¡ç®¡ç† | 39-background | 56% | 80% | å¾…åˆ†é… |
| ç¯å¢ƒå˜é‡å¤„ç† | 40-env | 53% | 80% | å¾…åˆ†é… |
| é”®ç›˜äº¤äº’æ”¹è¿› | 37-keyboard | 58% | 85% | å¾…åˆ†é… |

### P2 - æŒç»­ä¼˜åŒ– (é”¦ä¸Šæ·»èŠ±)

| ä»»åŠ¡ | æ¨¡å— | å½“å‰ | ç›®æ ‡ | è´Ÿè´£äºº |
|-----|-----|-----|-----|-------|
| æ²™ç®±ç³»ç»Ÿå®Œå–„ | 12-sandbox | 60% | 85% | å¾…åˆ†é… |
| Plan æ¨¡å¼å¢å¼º | 23-plan-mode | 68% | 85% | å¾…åˆ†é… |
| è®¤è¯æˆæƒå®Œå–„ | 19-auth | 72% | 90% | å¾…åˆ†é… |
| é”™è¯¯å¤„ç†å¢å¼º | 27-error-handling | 70% | 90% | å¾…åˆ†é… |

---

## â­ æœ¬é¡¹ç›®ç‹¬æœ‰ç‰¹æ€§ (ä¿æŒç»´æŠ¤)

### 1. æ–‡ä»¶æ£€æŸ¥ç‚¹ç³»ç»Ÿ (100%)
- **ä½ç½®**: `src/checkpoint/`
- **ä»£ç é‡**: ~1830 è¡Œ
- **åŠŸèƒ½**:
  - è‡ªåŠ¨æ£€æŸ¥ç‚¹åˆ›å»º
  - å¢é‡ Diff è®¡ç®—
  - Undo/Redo æ”¯æŒ
  - å‹ç¼©å­˜å‚¨

### 2. Tmux é›†æˆ (100%)
- **ä½ç½®**: `src/tools/tmux.ts`
- **ä»£ç é‡**: ~692 è¡Œ
- **åŠŸèƒ½**:
  - å®Œæ•´ä¼šè¯ç®¡ç†
  - çª—å£/çª—æ ¼æ“ä½œ
  - å‘½ä»¤æ‰§è¡Œé›†æˆ

### 3. Vim æ¨¡å¼è¾“å…¥
- **ä½ç½®**: `src/ui/input/`
- **åŠŸèƒ½**: å®Œæ•´ Vim é”®ä½æ”¯æŒ

### 4. æœ¬åœ°è¯Šæ–­ç³»ç»Ÿ
- **ä½ç½®**: `src/diagnostics/`
- **åŠŸèƒ½**: 20 é¡¹å¥åº·æ£€æŸ¥

---

## ğŸ“‹ æ¨¡å—è¯¦ç»†åˆ†æ

### 01. CLI å…¥å£å±‚ (85%)

**ä½ç½®**: `src/cli.ts`, `src/index.ts`

**å·²å®ç°**:
- âœ… Commander.js å‚æ•°è§£æ
- âœ… å¤šç§è¿è¡Œæ¨¡å¼ (interactive, print, resume)
- âœ… æ¨¡å‹é€‰æ‹©å‚æ•°
- âœ… ä¼šè¯æ¢å¤

**å¾…è¡¥é½**:
- âš ï¸ `--output-format` JSON/stream-json è¾“å‡º
- âš ï¸ `--max-tokens` å‚æ•°æ”¯æŒ
- âš ï¸ æ›´å®Œå–„çš„å¸®åŠ©æ–‡æ¡£

---

### 02. API å®¢æˆ·ç«¯ (75%)

**ä½ç½®**: `src/core/client.ts`

**å·²å®ç°**:
- âœ… Anthropic SDK å°è£…
- âœ… é‡è¯•é€»è¾‘
- âœ… Token è®¡æ•°
- âœ… æˆæœ¬è®¡ç®—

**å¾…è¡¥é½**:
- âš ï¸ è¯·æ±‚è¶…æ—¶é…ç½®
- âš ï¸ æ›´ç»†ç²’åº¦çš„é”™è¯¯åˆ†ç±»
- âš ï¸ æµå¼å“åº”ä¸­æ–­å¤„ç†

---

### 03. å¤šæ¨¡å‹æ”¯æŒ (70%)

**ä½ç½®**: `src/models/`

**å·²å®ç°**:
- âœ… Claude 3.5 Sonnet
- âœ… Claude 3 Opus
- âœ… Claude 3 Haiku
- âœ… æ¨¡å‹åˆ«åè§£æ

**å¾…è¡¥é½**:
- âš ï¸ æ¨¡å‹èƒ½åŠ›è‡ªåŠ¨æ£€æµ‹
- âš ï¸ æ¨¡å‹é™çº§/å›é€€æœºåˆ¶
- âš ï¸ è‡ªå®šä¹‰ç«¯ç‚¹æ”¯æŒ

---

### 04. ä¼šè¯å¾ªç¯ (65%)

**ä½ç½®**: `src/core/loop.ts`

**å·²å®ç°**:
- âœ… å¤šè½®å¯¹è¯ç®¡ç†
- âœ… å·¥å…·è°ƒç”¨å¤„ç†
- âœ… æ¶ˆæ¯å†å²ç»´æŠ¤

**å¾…è¡¥é½**:
- âš ï¸ å¹¶è¡Œå·¥å…·æ‰§è¡Œä¼˜åŒ–
- âš ï¸ ä¸­æ–­æ¢å¤æœºåˆ¶
- âš ï¸ ä¸Šä¸‹æ–‡å‹ç¼©ç­–ç•¥

---

### 05. å·¥å…·åŸºç¡€æ¶æ„ (78%)

**ä½ç½®**: `src/tools/base.ts`, `src/tools/registry.ts`

**å·²å®ç°**:
- âœ… BaseTool åŸºç±»
- âœ… ToolRegistry æ³¨å†Œæœºåˆ¶
- âœ… Zod Schema éªŒè¯
- âœ… å·¥å…·è¿‡æ»¤

**å¾…è¡¥é½**:
- âš ï¸ å·¥å…·ä¾èµ–å£°æ˜
- âš ï¸ å·¥å…·ç‰ˆæœ¬ç®¡ç†
- âš ï¸ å·¥å…·æ€§èƒ½æŒ‡æ ‡

---

### 06-10. å·¥å…·é›† (é«˜å®Œæˆåº¦)

| å·¥å…· | å®Œæˆåº¦ | å…³é”®å·®è· |
|-----|--------|---------|
| æ–‡ä»¶æ“ä½œ | 88% | å¤§æ–‡ä»¶åˆ†å—è¯»å– |
| æœç´¢å·¥å…· | 96% | æ— æ˜æ˜¾å·®è· |
| Bash å·¥å…· | 96% | æ— æ˜æ˜¾å·®è· |
| Web å·¥å…· | 45% | Turndown é›†æˆã€çœŸå®æœç´¢ API |
| å…¶ä»–å·¥å…· | 84% | TodoWrite æŒä¹…åŒ– |

---

### 11. æƒé™ç³»ç»Ÿ (95%)

**ä½ç½®**: `src/permissions/`

**å·²å®ç°**:
- âœ… ä¸‰å±‚æƒé™æ¨¡å‹
- âœ… å£°æ˜å¼ç­–ç•¥è¯­è¨€
- âœ… æ¡ä»¶ç»„åˆ (AND/OR/NOT)
- âœ… æƒé™ç»§æ‰¿

**å¾…è¡¥é½**:
- âš ï¸ æ›´å¤šå†…ç½®ç­–ç•¥æ¨¡æ¿

---

### 12. æ²™ç®±ç³»ç»Ÿ (60%)

**ä½ç½®**: `src/sandbox/`

**å·²å®ç°**:
- âœ… åŸºç¡€éš”ç¦»
- âœ… è·¯å¾„ç™½åå•
- âœ… Bubblewrapé›†æˆ (Linux)

**å¾…è¡¥é½**:
- âŒ macOS Seatbelt æ”¯æŒ
- âŒ Docker å®¹å™¨æ¨¡å¼
- âš ï¸ èµ„æºé™åˆ¶ (CPU/å†…å­˜, cgroups v2)

**è¯¦ç»†åˆ†æ**: å‚è§ [`docs/comparison/analysis/sandbox-analysis.md`](./analysis/sandbox-analysis.md)

**å…·ä½“å®ç°æ­¥éª¤**:

1. **macOS Seatbeltæ”¯æŒ** (T-016)
   - æ–°å»º: `src/sandbox/seatbelt.ts`
   - å…³é”®åŠŸèƒ½:
     - ä½¿ç”¨sandbox-execå‘½ä»¤
     - .sbæ²™ç®±é…ç½®æ–‡ä»¶ (ç¦æ­¢ç½‘ç»œã€æ–‡ä»¶å†™å…¥ç­‰)
     - ä¸´æ—¶ç›®å½•æƒé™
   - å®˜æ–¹å‚è€ƒ: cli.js dangerouslyDisableSandboxå‚æ•°
   - ä»£ç ç¤ºä¾‹: sandbox-analysis.md ç¬¬410-585è¡Œ

2. **Dockerå®¹å™¨æ¨¡å¼** (T-017)
   - æ–°å»º: `src/sandbox/docker.ts`
   - å…³é”®åŠŸèƒ½:
     - å†…å­˜é™åˆ¶ (--memory 512m)
     - CPUé™åˆ¶ (--cpus 0.5)
     - å·æŒ‚è½½ (-v /host/path:/container/path:ro)
     - ç½‘ç»œéš”ç¦» (--network none/bridge)
   - ä»£ç ç¤ºä¾‹: sandbox-analysis.md ç¬¬587-816è¡Œ

3. **èµ„æºé™åˆ¶å¢å¼º** (å·²éƒ¨åˆ†å®ç°)
   - æ–‡ä»¶ä½ç½®: `src/sandbox/bubblewrap.ts`
   - Linux cgroups v2é›†æˆ:
     - CPUé™åˆ¶ (cpu.max)
     - å†…å­˜é™åˆ¶ (memory.max)
     - è¿›ç¨‹æ•°é™åˆ¶ (pids.max)
   - ä»£ç ç¤ºä¾‹: sandbox-analysis.md ç¬¬157-408è¡Œ

**å…³é”®ä¾èµ–**: æ— æ–°å¢npmä¾èµ– (ä¾èµ–ç³»ç»Ÿå·¥å…·: bwrap, sandbox-exec, docker)

---

### 13-20. ç³»ç»Ÿæ¨¡å— (ä¸­é«˜å®Œæˆåº¦)

| æ¨¡å— | å®Œæˆåº¦ | å…³é”®å·®è· |
|-----|--------|---------|
| ä¼šè¯ç®¡ç† | 75% | ä¼šè¯æœç´¢ã€æ‰¹é‡æ“ä½œ |
| é…ç½®ç³»ç»Ÿ | 78% | é…ç½®éªŒè¯ã€è¿ç§» |
| MCP é›†æˆ | 75% | stdio ä»¥å¤–ä¼ è¾“ |
| Hooks ç³»ç»Ÿ | 95% | æ— æ˜æ˜¾å·®è· |
| æ’ä»¶ç³»ç»Ÿ | 85% | çƒ­åŠ è½½ |
| UI ç»„ä»¶ | 87% | æ— æ˜æ˜¾å·®è· |
| è®¤è¯æˆæƒ | 72% | å¤šå› ç´ è®¤è¯ |
| äº‘å¹³å° | 84% | æ— æ˜æ˜¾å·®è· |

---

### 21. ä»£ç è§£æå™¨ (35%) âš ï¸ ä¼˜å…ˆ

**ä½ç½®**: `src/parser/`

**å·²å®ç°**:
- âœ… Tree-sitter WASM åŠ è½½
- âœ… åŸºç¡€è¯­æ³•è§£æ

**å¾…è¡¥é½**:
- âŒ ç¬¦å·æå– (å‡½æ•°/ç±»/å˜é‡)
- âŒ å¼•ç”¨æŸ¥æ‰¾
- âŒ ä»£ç æŠ˜å ç‚¹æ£€æµ‹
- âŒ æ›´å¤šè¯­è¨€æ”¯æŒ

**å®˜æ–¹å‚è€ƒ**:
```javascript
// cli.js ä¸­çš„è§£æç›¸å…³ä»£ç ä½ç½® (æœç´¢ tree-sitter)
// å…³é”®å‡½æ•°: extractSymbols, findReferences
```

**è¯¦ç»†åˆ†æ**: å‚è§ [`docs/comparison/analysis/parser-analysis.md`](./analysis/parser-analysis.md)

**å…·ä½“å®ç°æ­¥éª¤**:

1. **å¼•å…¥ Tree-sitter Query API** (T-004)
   - æ–‡ä»¶ä½ç½®: `src/parser/queries.ts`
   - ä¸ºæ¯ç§è¯­è¨€å®šä¹‰ Query è§„åˆ™ (JavaScript, TypeScript, Python ç­‰)
   - å®ç°æŸ¥è¯¢ç¼“å­˜ä»¥æå‡æ€§èƒ½
   - å‚è€ƒ: parser-analysis.md ç¬¬294-359è¡Œ

2. **é‡æ„ç¬¦å·æå–ä½¿ç”¨ Query** (T-004)
   - æ–‡ä»¶ä½ç½®: `src/parser/symbol-extractor.ts`
   - æ›¿æ¢å½“å‰åŸºäºèŠ‚ç‚¹ç±»å‹çš„ç®€å•åŒ¹é…
   - æ”¯æŒæå–å‡½æ•°ç­¾åã€æ–‡æ¡£æ³¨é‡Š
   - å‚è€ƒ: parser-analysis.md ç¬¬361-459è¡Œ

3. **å®ç°å¼•ç”¨æŸ¥æ‰¾** (T-005)
   - æ–¹æ¡ˆA (ç®€åŒ–ç‰ˆ): åŸºäºæ–‡æœ¬åŒ¹é… + ä½œç”¨åŸŸè¿‡æ»¤ (parser-analysis.md ç¬¬463-631è¡Œ)
   - æ–¹æ¡ˆB (å®Œæ•´ç‰ˆ): è¯­ä¹‰åˆ†æ + ä½œç”¨åŸŸé“¾ (parser-analysis.md ç¬¬633-873è¡Œ)
   - ä¼˜å…ˆå®ç°æ–¹æ¡ˆA,åç»­å¯å‡çº§åˆ°æ–¹æ¡ˆB

4. **æ·»åŠ æ›´å¤šè¯­è¨€æ”¯æŒ** (T-006)
   - ä½¿ç”¨ `tree-sitter-wasms` npm åŒ… (åŒ…å«40+è¯­è¨€)
   - åˆ›å»ºè¯­è¨€æŸ¥è¯¢æ–‡ä»¶: `src/parser/queries/*.scm`
   - å®ç°åŠ¨æ€è¯­è¨€åŠ è½½: `src/parser/language-loader.ts`
   - å‚è€ƒ: parser-analysis.md ç¬¬877-1024è¡Œ

**å…³é”®ä¾èµ–**:
```json
{
  "dependencies": {
    "web-tree-sitter": "^0.20.8",
    "tree-sitter-wasms": "^0.1.0"
  }
}
```

---

### 22-30. åŠŸèƒ½æ¨¡å— (ä¸­å®Œæˆåº¦)

| æ¨¡å— | å®Œæˆåº¦ | å…³é”®å·®è· |
|-----|--------|---------|
| æ–œæ å‘½ä»¤ | 90% | æ— æ˜æ˜¾å·®è· |
| Plan æ¨¡å¼ | 68% | è®¡åˆ’æŒä¹…åŒ–ã€å¤šæ–¹æ¡ˆå¯¹æ¯” |
| é¥æµ‹ç›‘æ§ | 80% | ä¸åŒè®¾è®¡ï¼Œå„æœ‰ç‰¹è‰² |
| Git é›†æˆ | 92% | åŸºæœ¬å®Œæ•´ |
| é”™è¯¯å¤„ç† | 70% | ç”¨æˆ·å‹å¥½æç¤º |
| ä¸Šä¸‹æ–‡ç®¡ç† | 55% | è‡ªåŠ¨å‹ç¼©ç­–ç•¥ |
| æµå¼å¤„ç† | 60% | èƒŒå‹å¤„ç† |
| IDE é›†æˆ | 45% | LSP é€šä¿¡ã€è¯Šæ–­æ˜¾ç¤º |
| Web å·¥å…· | 45% | Turndowné›†æˆã€æœç´¢API |

---

### 09. Web å·¥å…· (45%)

**ä½ç½®**: `src/tools/web.ts`

**å·²å®ç°**:
- âœ… WebFetch åŸºç¡€å®ç° (90%å®Œæˆ)
- âœ… WebSearch æ¡†æ¶ (30%å®Œæˆ)
- âœ… Turndown HTMLè½¬Markdown (åŸºç¡€é…ç½®)
- âœ… LRUç¼“å­˜ç³»ç»Ÿ (50MB, 15åˆ†é’ŸTTL)
- âœ… HTTPâ†’HTTPSè‡ªåŠ¨å‡çº§
- âœ… é‡å®šå‘å¤„ç†
- âœ… ä»£ç†æ”¯æŒ

**å¾…è¡¥é½**:
- âš ï¸ Turndown GFMæ‰©å±• (è¡¨æ ¼ã€åˆ é™¤çº¿ç­‰)
- âš ï¸ é«˜çº§Turndownè§„åˆ™ (ä»£ç å—è¯­è¨€ã€è¯­ä¹‰æ ‡ç­¾)
- âš ï¸ WebSearch APIé›†æˆ (DuckDuckGo/Bing/Google)
- âš ï¸ WebSearchç¼“å­˜å®ç°

**è¯¦ç»†åˆ†æ**: å‚è§ [`docs/comparison/analysis/web-analysis.md`](./analysis/web-analysis.md)

**å…·ä½“å®ç°æ­¥éª¤**:

1. **Turndowné›†æˆä¼˜åŒ–** (T-011)
   - æ–‡ä»¶ä½ç½®: `src/tools/web.ts` (ä¿®æ”¹createTurndownServiceå‡½æ•°)
   - å…³é”®æ”¹è¿›:
     - å¯ç”¨GFMæ‰©å±• (æ”¯æŒè¡¨æ ¼ã€åˆ é™¤çº¿)
     - è‡ªå®šä¹‰è§„åˆ™: ç§»é™¤script/styleæ ‡ç­¾
     - ä¼˜åŒ–å›¾ç‰‡altæ–‡æœ¬å¤„ç†
     - ä¿ç•™è¯­ä¹‰åŒ–æ ‡ç­¾ (mark, ins, kbd, sub, sup)
     - ä»£ç å—è¯­è¨€æ ‡è¯†æå–
   - å®˜æ–¹å‚è€ƒ: cli.js åŒ…å«turndown-plugin-gfm
   - ä»£ç ç¤ºä¾‹: web-analysis.md ç¬¬219-310è¡Œ

2. **WebSearchç¼“å­˜å®ç°** (T-012)
   - æ–‡ä»¶ä½ç½®: `src/tools/web.ts`
   - ç¼“å­˜é…ç½®:
     - æœ€å¤§æ¡ç›®: 500ä¸ªæŸ¥è¯¢
     - TTL: 1å°æ—¶
     - ç¼“å­˜é”®: query + allowedDomains + blockedDomains
   - ä»£ç ç¤ºä¾‹: web-analysis.md ç¬¬332-440è¡Œ

3. **æœç´¢APIé›†æˆ** (T-012, é€‰æ‹©ä¸€ç§)
   - é€‰é¡¹1 (æ¨è): DuckDuckGo API - å…è´¹
   - é€‰é¡¹2: Bing Search API - ä»˜è´¹
   - é€‰é¡¹3: Google Custom Search API - æœ‰é™å…è´¹
   - ä»£ç ç¤ºä¾‹: web-analysis.md ç¬¬446-552è¡Œ

**å…³é”®ä¾èµ–**:
```json
{
  "dependencies": {
    "turndown": "^7.2.2",
    "turndown-plugin-gfm": "^1.0.7",
    "lru-cache": "^11.2.4"
  }
}
```

---

### 28. ä¸Šä¸‹æ–‡ç®¡ç† (55%)

**ä½ç½®**: `src/context/`

**å·²å®ç°**:
- âœ… Tokenä¼°ç®— (å¯å‘å¼,æ”¯æŒå¤šè¯­è¨€å’Œä»£ç )
- âœ… ä¸Šä¸‹æ–‡ç®¡ç†å™¨ (ContextManagerç±»)
- âœ… å·¥å…·è¾“å‡ºå‹ç¼© (ä»£ç å—ã€æ–‡ä»¶å†…å®¹æ™ºèƒ½æˆªæ–­)
- âœ… æ¨¡å‹ä¸Šä¸‹æ–‡çª—å£é…ç½®
- âœ… ç¼“å­˜ç»Ÿè®¡åŠŸèƒ½

**å¾…è¡¥é½**:
- âŒ ä»API responseæå–çœŸå®Tokenæ•°
- âŒ åŸºäºClaude APIçš„æ™ºèƒ½æ‘˜è¦ç”Ÿæˆ
- âŒ åŠ¨æ€ä¸Šä¸‹æ–‡çª—å£è°ƒæ•´ (æ ¹æ®æ¨¡å‹è‡ªé€‚åº”)
- âŒ ä¸Šä¸‹æ–‡æº¢å‡ºè‡ªåŠ¨æ¢å¤
- âŒ Session Resumeæ”¯æŒ
- âŒ æ¶ˆæ¯å†å²è‡ªåŠ¨æ¸…ç† (30å¤©)

**è¯¦ç»†åˆ†æ**: å‚è§ [`docs/comparison/analysis/context-analysis.md`](./analysis/context-analysis.md)

**å…·ä½“å®ç°æ­¥éª¤**:

1. **æå–çœŸå®Tokenæ•°** (T-013, æ­¥éª¤1-2)
   - ä¿®æ”¹: `src/client/client.ts` - è¿”å›APIResponseåŒ…å«usage
   - ä¿®æ”¹: `src/context/index.ts` - addTurn()æ¥æ”¶apiUsageå‚æ•°
   - å®˜æ–¹å‚è€ƒ: cli.js gK()/jo()/GSA()å‡½æ•°
   - ä»£ç ç¤ºä¾‹: context-analysis.md ç¬¬678-772è¡Œ

2. **æ™ºèƒ½æ‘˜è¦ç”Ÿæˆ** (T-013, æ­¥éª¤3)
   - æ–°å»º: `src/context/summarizer.ts`
   - æ ¸å¿ƒå‡½æ•°: generateAISummary() - ä½¿ç”¨Claude APIç”Ÿæˆ5-10å­—æ‘˜è¦
   - ç³»ç»Ÿæç¤ºè¯: "Summarize this coding conversation in under 50 characters"
   - å®˜æ–¹å‚è€ƒ: cli.js è¡Œ4858-4950 (fW7å‡½æ•°)
   - ä»£ç ç¤ºä¾‹: context-analysis.md ç¬¬775-942è¡Œ

3. **åŠ¨æ€ä¸Šä¸‹æ–‡çª—å£** (T-013, æ­¥éª¤4)
   - æ–°å»º: `src/context/window.ts`
   - ç­–ç•¥: å°æ¨¡å‹(â‰¤50k)ç”¨80%è¾“å…¥,å¤§æ¨¡å‹(>50k)ä¿ç•™å›ºå®š50kè¾“å‡º
   - ç¤ºä¾‹: Claude 3.5 (200k) = 150kè¾“å…¥ + 50kè¾“å‡º
   - å®˜æ–¹å‚è€ƒ: cli.js kW7()å‡½æ•°, rH9=50000
   - ä»£ç ç¤ºä¾‹: context-analysis.md ç¬¬944-1002è¡Œ

4. **ä¸Šä¸‹æ–‡æº¢å‡ºæ¢å¤** (T-013, æ­¥éª¤7)
   - æ–°å»º: `src/client/retryLogic.ts`
   - è§£æé”™è¯¯: "input length and `max_tokens` exceed context limit: X + Y > Z"
   - åŠ¨æ€è°ƒæ•´max_tokens,æœ€å°ä¿è¯3000 tokens
   - å®˜æ–¹å‚è€ƒ: cli.js VY2()å‡½æ•°
   - ä»£ç ç¤ºä¾‹: context-analysis.md ç¬¬1186-1309è¡Œ

5. **Session Resume** (T-013, æ­¥éª¤8)
   - æ–°å»º: `src/session/resume.ts`
   - å­˜å‚¨ä½ç½®: ~/.claude/sessions/summaries/
   - å®˜æ–¹å‚è€ƒ: cli.js l71()å‡½æ•°
   - ä»£ç ç¤ºä¾‹: context-analysis.md ç¬¬1311-1386è¡Œ

6. **æ¶ˆæ¯å†å²æ¸…ç†** (T-013, æ­¥éª¤9-10)
   - æ–°å»º: `src/session/cleanup.ts`
   - 30å¤©è‡ªåŠ¨æ¸…ç†sessionæ–‡ä»¶
   - åœ¨`src/cli.ts`ä¸­è°ƒç”¨scheduleCleanup()
   - å®˜æ–¹å‚è€ƒ: cli.js yfA()/_W7()
   - ä»£ç ç¤ºä¾‹: context-analysis.md ç¬¬1388-1523è¡Œ

---

### 30. IDE é›†æˆ (45%) âš ï¸ ä¼˜å…ˆ

**ä½ç½®**: `src/ide/`, `src/lsp/`

**å·²å®ç°**:
- âœ… IDE è¿æ¥æ¡†æ¶
- âœ… VSCode/JetBrains é€‚é…å™¨
- âœ… è¯Šæ–­ä¿¡æ¯æ”¶é›† (TypeScript, ESLint)

**å¾…è¡¥é½**:
- âŒ LSP å®¢æˆ·ç«¯å®ç°
- âŒ LSP åè®®é€šä¿¡ (JSON-RPC)
- âŒ æ–‡æ¡£åŒæ­¥ (didOpen/didChange/didSave/didClose)
- âŒ LSP å·¥å…·é›†æˆ (9ç§æ“ä½œ)
- âŒ è¯Šæ–­ä¿¡æ¯æ˜¾ç¤ºé›†æˆ

**è¯¦ç»†åˆ†æ**: å‚è§ [`docs/comparison/analysis/ide-analysis.md`](./analysis/ide-analysis.md)

**å…·ä½“å®ç°æ­¥éª¤**:

1. **LSP æœåŠ¡å™¨ç®¡ç†å™¨** (T-009, ç¬¬ä¸€æ­¥)
   - æ–°å»º: `src/lsp/manager.ts`
   - å…³é”®ç±»:
     - LSPServer: å•ä¸ªæœåŠ¡å™¨ç®¡ç† (å¯åŠ¨ã€åœæ­¢ã€è¯·æ±‚/å“åº”ã€æ–‡æ¡£åŒæ­¥)
     - LSPServerManager: å¤šæœåŠ¡å™¨ç®¡ç† (æœåŠ¡å™¨æ³¨å†Œã€æ–‡ä»¶ç±»å‹è·¯ç”±ã€è¯Šæ–­ç¼“å­˜)
   - æ ¸å¿ƒåŠŸèƒ½:
     - æœåŠ¡å™¨è¿›ç¨‹ç®¡ç† (spawn, stdioé€šä¿¡)
     - JSON-RPC æ¶ˆæ¯å¤„ç†
     - publishDiagnostics å¤„ç†
   - å®˜æ–¹å‚è€ƒ: cli.js è¡Œ2927-3119
   - ä»£ç ç¤ºä¾‹: ide-analysis.md ç¬¬847-1455è¡Œ

2. **LSP å·¥å…·å®ç°** (T-009, ç¬¬äºŒæ­¥)
   - æ–°å»º: `src/tools/lsp.ts`
   - æ”¯æŒ9ç§æ“ä½œ:
     - goToDefinition, findReferences, hover
     - documentSymbol, workspaceSymbol
     - goToImplementation
     - prepareCallHierarchy, incomingCalls, outgoingCalls
   - åè®®è½¬æ¢: å·¥å…·è¾“å…¥ â†’ LSPè¯·æ±‚ (1-based â†’ 0-based)
   - å®˜æ–¹å‚è€ƒ: cli.js è¡Œ2970-3000 (V27å‡½æ•°)
   - ä»£ç ç¤ºä¾‹: ide-analysis.md ç¬¬1457-2139è¡Œ

3. **è¯Šæ–­ä¿¡æ¯å¢å¼º** (T-010)
   - ä¿®æ”¹: `src/prompt/diagnostics.ts`
   - æ–°å¢: collectFromLSP()å‡½æ•°
   - åœ¨LSPServerManagerä¸­æ·»åŠ è¯Šæ–­ç¼“å­˜
   - ä»£ç ç¤ºä¾‹: ide-analysis.md ç¬¬2141-2266è¡Œ

4. **åº”ç”¨å¯åŠ¨é›†æˆ**
   - ä¿®æ”¹: `src/cli.ts` - åˆå§‹åŒ–LSPç®¡ç†å™¨
   - æ³¨å†Œé»˜è®¤è¯­è¨€æœåŠ¡å™¨ (typescript-language-server, pyright)
   - æ³¨å†ŒLSPå·¥å…·åˆ°ToolRegistry
   - ä»£ç ç¤ºä¾‹: ide-analysis.md ç¬¬2298-2362è¡Œ

**å…³é”®ä¾èµ–**:
```json
{
  "dependencies": {
    "vscode-languageserver-protocol": "^3.17.5",
    "vscode-languageserver-types": "^3.17.5"
  },
  "optionalDependencies": {
    "typescript-language-server": "^4.3.3",
    "pyright": "^1.1.358"
  }
}
```

---

### 31. åª’ä½“å¤„ç† (47%) âš ï¸ ä¼˜å…ˆ

**ä½ç½®**: `src/media/`

**å·²å®ç°**:
- âœ… å›¾ç‰‡è¯»å–å’Œæ˜¾ç¤º
- âœ… åŸºç¡€æ ¼å¼è½¬æ¢

**å¾…è¡¥é½**:
- âŒ PDF è§£æ (pdf-parse æˆ– pdfjs)
- âŒ SVG æ¸²æŸ“ (resvg.wasm)
- âŒ Office æ–‡æ¡£æ”¯æŒ
- âŒ éŸ³é¢‘/è§†é¢‘å…ƒä¿¡æ¯

**è¯¦ç»†åˆ†æ**: å‚è§ [`docs/comparison/analysis/media-analysis.md`](./analysis/media-analysis.md)

**å…·ä½“å®ç°æ­¥éª¤**:

1. **PDF è§£æå®ç°** (T-007)
   - æ–¹æ¡ˆä¸€ (æ¨è): ä»¿ç…§å®˜æ–¹,ç›´æ¥base64ç¼–ç 
     - æ–‡ä»¶ä½ç½®: `src/media/pdf.ts`
     - æœ€å¤§æ–‡ä»¶å¤§å°: 32MB (33554432 bytes)
     - éªŒè¯é€»è¾‘: æ–‡ä»¶å¤§å°æ£€æŸ¥ã€base64ç¼–ç 
     - å®˜æ–¹å‚è€ƒ: cli.js è¡Œ495 (XzBå‡½æ•°)
     - ä»£ç ç¤ºä¾‹: media-analysis.md ç¬¬264-328è¡Œ

   - æ–¹æ¡ˆäºŒ (å¢å¼º): ä½¿ç”¨pdf-parseåº“
     - æ–‡ä»¶ä½ç½®: `src/media/pdf-advanced.ts`
     - é¢å¤–åŠŸèƒ½: æå–æ–‡æœ¬å†…å®¹ã€é¡µæ•°ã€å…ƒæ•°æ®
     - ä»£ç ç¤ºä¾‹: media-analysis.md ç¬¬330-375è¡Œ

2. **å›¾ç‰‡å¤„ç†å®Œæ•´å®ç°** (å·²éƒ¨åˆ†å®ç°)
   - æ–‡ä»¶ä½ç½®: `src/media/image.ts`
   - å…³é”®åŠŸèƒ½:
     - MIMEç±»å‹æ£€æµ‹ (åŸºäºæ–‡ä»¶å¤´)
     - å°ºå¯¸ä¿¡æ¯æå– (ä½¿ç”¨sharp)
     - æ™ºèƒ½å‹ç¼© (400x400æœ€å¤§å°ºå¯¸, JPEGè´¨é‡20%)
     - Tokené™åˆ¶ (æœ€å¤§25000 tokens)
   - å®˜æ–¹å‚è€ƒ: cli.js è¡Œ495 (CP3/zP3/BQ0å‡½æ•°)
   - ä»£ç ç¤ºä¾‹: media-analysis.md ç¬¬452-589è¡Œ

3. **SVG æ¸²æŸ“å®ç°** (T-008, å¯é€‰)
   - æ–‡ä»¶ä½ç½®: `src/media/svg.ts`
   - ä½¿ç”¨åº“: @resvg/resvg-js
   - å…³é”®åŠŸèƒ½: SVGè½¬PNGæ¸²æŸ“
   - æ³¨æ„: å®˜æ–¹æœªå®ç°æ­¤åŠŸèƒ½
   - ä»£ç ç¤ºä¾‹: media-analysis.md ç¬¬378-448è¡Œ

4. **MIME ç±»å‹æ£€æµ‹**
   - æ–‡ä»¶ä½ç½®: `src/media/mime.ts`
   - åŒæ­¥æ£€æµ‹: åŸºäºæ–‡ä»¶å¤´(magic bytes)
   - å¼‚æ­¥æ£€æµ‹: ä½¿ç”¨file-typeåº“
   - ä»£ç ç¤ºä¾‹: media-analysis.md ç¬¬592-651è¡Œ

**å…³é”®ä¾èµ–**:
```json
{
  "dependencies": {
    "sharp": "^0.33.0",
    "file-type": "^18.0.0"
  },
  "optionalDependencies": {
    "pdf-parse": "^1.1.1",
    "@resvg/resvg-js": "^2.6.0"
  }
}
```

---

### 32. ç½‘ç»œä¸ä»£ç† (95%)

**ä½ç½®**: `src/network/`

**å·²å®ç°**:
- âœ… HTTP/HTTPS ä»£ç†
- âœ… SOCKS ä»£ç†
- âœ… ç¯å¢ƒå˜é‡é…ç½®
- âœ… ä»£ç†è®¤è¯

**å¾…è¡¥é½**:
- âš ï¸ PAC è‡ªåŠ¨é…ç½®

---

### 33. å­ä»£ç†ç³»ç»Ÿ (95%)

**ä½ç½®**: `src/subagent/`

**å·²å®ç°**:
- âœ… å¹¶è¡Œä»»åŠ¡æ‰§è¡Œ
- âœ… å¤šç§ä»£ç†ç±»å‹
- âœ… ä¸Šä¸‹æ–‡éš”ç¦»
- âœ… ç»“æœèšåˆ

**å¾…è¡¥é½**:
- âš ï¸ åŠ¨æ€è´Ÿè½½å‡è¡¡

---

### 34. å®‰å…¨éªŒè¯ (42.5%) âš ï¸ ç´§æ€¥

**ä½ç½®**: `src/security/`

**å·²å®ç°**:
- âœ… åŸºç¡€è¾“å…¥éªŒè¯
- âœ… è·¯å¾„éå†é˜²æŠ¤
- âœ… é…ç½®éªŒè¯ç³»ç»Ÿ (26ä¸ªæ£€æŸ¥é¡¹)
- âœ… æ•æ„Ÿæ•°æ®æ£€æµ‹ (38ç§æ¨¡å¼)
- âœ… å®¡è®¡æ—¥å¿—ç³»ç»Ÿ

**å¾…è¡¥é½**:
- âŒ å‘½ä»¤æ³¨å…¥æ·±åº¦æ£€æµ‹
- âŒ ä»£ç æ‰§è¡Œæ²™ç®±
- âŒ è¿è¡Œæ—¶è¡Œä¸ºç›‘æ§
- âŒ ç½‘ç»œè®¿é—®æ‹¦æˆª

**è¯¦ç»†åˆ†æ**: å‚è§ [`docs/comparison/analysis/security-analysis.md`](./analysis/security-analysis.md)

**å…·ä½“å®ç°æ­¥éª¤**:

1. **å‘½ä»¤æ³¨å…¥æ£€æµ‹å®ç°** (T-001)
   - æ–‡ä»¶ä½ç½®: `src/security/command-injection.ts`
   - å…³é”®åŠŸèƒ½:
     - 15ç§å±é™©æ¨¡å¼æ£€æµ‹ (å‘½ä»¤é“¾ã€å‘½ä»¤æ›¿æ¢ã€é€’å½’åˆ é™¤ã€ç£ç›˜æ“¦é™¤ç­‰)
     - Shellå…ƒå­—ç¬¦æ£€æµ‹
     - è·¯å¾„éå†æ£€æµ‹
     - ç¯å¢ƒå˜é‡éªŒè¯
   - å®˜æ–¹å‚è€ƒ: cli.js è¡Œ28 (è¿›ç¨‹é”™è¯¯æ£€æµ‹), è¡Œ462 (Shellè½¬ä¹‰)
   - ä»£ç ç¤ºä¾‹: security-analysis.md ç¬¬620-987è¡Œ

2. **æ•æ„Ÿä¿¡æ¯è¿‡æ»¤å¢å¼º** (T-002)
   - æ–‡ä»¶ä½ç½®: `src/security/sensitive-enhanced.ts`
   - å…³é”®åŠŸèƒ½:
     - å·¥å…·è¾“å‡ºè¿‡æ»¤ (æœ€å¤§60KB,ä¿ç•™é¦–å°¾å„5000å­—ç¬¦)
     - æ—¥å¿—æ¶ˆæ¯è¿‡æ»¤ (è‡ªåŠ¨æ›¿æ¢apiKey/password/tokenç­‰)
     - å †æ ˆè·Ÿè¸ªè¿‡æ»¤ (æœ€å¤š10è¡Œ,è·¯å¾„ç®€åŒ–)
   - å®˜æ–¹å‚è€ƒ: cli.js è¡Œ974-975 (å‡­è¯è·¯å¾„éšè—), è¡Œ1684 (å†…å®¹æˆªæ–­)
   - ä»£ç ç¤ºä¾‹: security-analysis.md ç¬¬1020-1209è¡Œ

3. **è¿è¡Œæ—¶è¡Œä¸ºç›‘æ§** (T-003)
   - æ–‡ä»¶ä½ç½®: `src/security/runtime-monitor.ts`
   - å…³é”®åŠŸèƒ½:
     - ç½‘ç»œè¯·æ±‚æ‹¦æˆª (allowlist/blocklistæœºåˆ¶)
     - æ–‡ä»¶è®¿é—®æ‹¦æˆª (è·¯å¾„allowlist/denyæ£€æŸ¥)
     - å‘½ä»¤æ‰§è¡Œæ§åˆ¶ (å±é™©å‘½ä»¤é˜»æ­¢)
     - å·¥å…·æƒé™æ£€æŸ¥
   - å®˜æ–¹å‚è€ƒ: cli.js è¡Œ449-461 (HTTPä»£ç†è¿æ¥è¿‡æ»¤)
   - ä»£ç ç¤ºä¾‹: security-analysis.md ç¬¬1213-1796è¡Œ

**å…³é”®ä¾èµ–**:
```json
{
  "dependencies": {
    "shell-quote": "^1.8.1"
  }
}
```

---

### 35. ç³»ç»Ÿæç¤ºè¯ (85%)

**ä½ç½®**: `src/prompts/`

**å·²å®ç°**:
- âœ… åŠ¨æ€æç¤ºè¯ç»„è£…
- âœ… ä¸Šä¸‹æ–‡æ³¨å…¥
- âœ… å·¥å…·æè¿°ç”Ÿæˆ
- âœ… ç³»ç»Ÿä¿¡æ¯é™„åŠ 

**å¾…è¡¥é½**:
- âš ï¸ IDE ç‰¹å®šæç¤ºè¯
- âš ï¸ æ›´å¤šè¯Šæ–­ä¿¡æ¯

---

### 36. è´¹ç”¨é…é¢ (85%)

**ä½ç½®**: `src/billing/`

**å·²å®ç°**:
- âœ… Token è®¡è´¹
- âœ… æˆæœ¬è¿½è¸ª
- âœ… ä¼šè¯ç»Ÿè®¡

**å¾…è¡¥é½**:
- âš ï¸ é¢„ç®—é™åˆ¶
- âš ï¸ è¶…é¢è­¦å‘Š

---

### 37-40. è¾…åŠ©æ¨¡å—

| æ¨¡å— | å®Œæˆåº¦ | å…³é”®å·®è· |
|-----|--------|---------|
| é”®ç›˜äº¤äº’ | 58% | æ›´å¤šå¿«æ·é”®ã€è‡ªå®šä¹‰ç»‘å®š |
| Diff å˜æ›´ | 80% | è¯­ä¹‰ diff |
| åå°ä»»åŠ¡ | 56% | ä»»åŠ¡é˜Ÿåˆ—ã€ä¼˜å…ˆçº§ |
| ç¯å¢ƒå˜é‡ | 53% | å˜é‡éªŒè¯ã€æ•æ„Ÿæ ‡è®° |

---

### 37. é”®ç›˜äº¤äº’ (58%)

**ä½ç½®**: `src/ui/`, `src/input/`

**å·²å®ç°**:
- âœ… åŸºç¡€å¿«æ·é”®æ”¯æŒ
- âœ… å†å²å¯¼èˆª (ä¸Š/ä¸‹ç®­å¤´)
- âœ… è¾“å…¥ç¼–è¾‘åŠŸèƒ½

**å¾…è¡¥é½**:
- âŒ Vimæ¨¡å¼æ”¯æŒ
- âŒ Shift+Enterå¤šè¡Œè¾“å…¥
- âŒ å…¨å±€å¿«æ·é”® (Ctrl+O/T/S/Z)
- âŒ è‡ªå®šä¹‰å¿«æ·é”®é…ç½®

**è¯¦ç»†åˆ†æ**: å‚è§ [`docs/comparison/analysis/keyboard-analysis.md`](./analysis/keyboard-analysis.md)

**å…·ä½“å®ç°æ­¥éª¤**:

1. **Vimæ¨¡å¼å®ç°** (T-018)
   - æ–‡ä»¶ä½ç½®: `src/ui/vim-mode.ts`
   - æ”¯æŒå‘½ä»¤:
     - y/p/yy: å¤åˆ¶/ç²˜è´´
     - dd: åˆ é™¤è¡Œ
     - r: æ›¿æ¢å­—ç¬¦
     - C: ä¿®æ”¹åˆ°è¡Œå°¾
     - D: åˆ é™¤åˆ°è¡Œå°¾
     - A: è¿½åŠ åˆ°è¡Œå°¾
   - å®˜æ–¹å‚è€ƒ: cli.js vimæ¨¡å¼å®ç°
   - ä»£ç ç¤ºä¾‹: keyboard-analysis.md ç¬¬242-389è¡Œ

2. **Shift+Enterå¤šè¡Œè¾“å…¥** (T-018)
   - æ–‡ä»¶ä½ç½®: `src/input/multiline.ts`
   - å…³é”®åŠŸèƒ½:
     - æ£€æµ‹escapeåºåˆ— \x1b\r
     - éœ€è¦ç»ˆç«¯é…ç½®æ”¯æŒ (WezTerm/Kitty/iTerm2ç­‰)
     - æä¾›é…ç½®æŒ‡å—
   - ä»£ç ç¤ºä¾‹: keyboard-analysis.md ç¬¬114-240è¡Œ

3. **å…¨å±€å¿«æ·é”®** (T-018)
   - æ–°å»º: `src/ui/global-keys.ts`
   - å¿«æ·é”®:
     - Ctrl+O: åˆ‡æ¢verboseæ¨¡å¼
     - Ctrl+T: æ˜¾ç¤º/éšè—todos
     - Ctrl+S: æš‚å­˜å½“å‰çŠ¶æ€
     - Ctrl+Z: æš‚åœä¼šè¯
   - å®˜æ–¹å‚è€ƒ: cli.js å…¨å±€å¿«æ·é”®å¤„ç†
   - ä»£ç ç¤ºä¾‹: keyboard-analysis.md ç¬¬77-112è¡Œ

4. **è‡ªå®šä¹‰å¿«æ·é”®é…ç½®**
   - é…ç½®æ–‡ä»¶: ~/.claude/keybindings.json
   - æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰å¿«æ·é”®æ˜ å°„
   - ä»£ç ç¤ºä¾‹: keyboard-analysis.md ç¬¬391-456è¡Œ

**å…³é”®ä¾èµ–**: æ— æ–°å¢ä¾èµ– (ä½¿ç”¨ç°æœ‰Ink/Reactæ¡†æ¶)

---

### 39. åå°ä»»åŠ¡ (56%)

**ä½ç½®**: `src/background/`

**å·²å®ç°**:
- âœ… åŸºç¡€åå°æ‰§è¡Œ
- âœ… Shellè¿›ç¨‹ç®¡ç†

**å¾…è¡¥é½**:
- âŒ ä»»åŠ¡é˜Ÿåˆ—ç³»ç»Ÿ
- âŒ å¹¶å‘æ§åˆ¶ (MAX_BACKGROUND_SHELLS=10)
- âŒ ä»»åŠ¡ä¼˜å…ˆçº§
- âŒ çŠ¶æ€æŒä¹…åŒ–
- âŒ è¶…æ—¶å¤„ç† (120sé»˜è®¤, 600sæœ€å¤§)

**è¯¦ç»†åˆ†æ**: å‚è§ [`docs/comparison/analysis/background-analysis.md`](./analysis/background-analysis.md)

**å…·ä½“å®ç°æ­¥éª¤**:

1. **ä»»åŠ¡é˜Ÿåˆ—å®ç°** (T-014)
   - æ–°å»º: `src/background/task-queue.ts`
   - æ ¸å¿ƒç±»: SimpleTaskQueue
   - å…³é”®åŠŸèƒ½:
     - FIFOé˜Ÿåˆ—
     - ä¼˜å…ˆçº§æ”¯æŒ (é«˜/æ­£å¸¸/ä½)
     - å¹¶å‘æ§åˆ¶ (maxConcurrent=10)
     - çŠ¶æ€ç®¡ç† (pending/running/completed/failed)
   - å®˜æ–¹å‚è€ƒ: cli.js MAX_BACKGROUND_SHELLS=10
   - ä»£ç ç¤ºä¾‹: background-analysis.md ç¬¬265-414è¡Œ

2. **åå°Shellç®¡ç†** (å·²éƒ¨åˆ†å®ç°)
   - æ–‡ä»¶ä½ç½®: `src/background/shell-manager.ts`
   - æ•°æ®ç»“æ„: Map<string, BackgroundShell>
   - çŠ¶æ€å­—æ®µ:
     - id, command, cwd, startTime
     - status: running/completed/failed/paused
     - output, error, exitCode
   - ä»£ç ç¤ºä¾‹: background-analysis.md ç¬¬171-263è¡Œ

3. **è¶…æ—¶å¤„ç†å®ç°** (T-014)
   - æ–‡ä»¶ä½ç½®: `src/background/timeout.ts`
   - è¶…æ—¶é…ç½®:
     - é»˜è®¤: 120ç§’
     - æœ€å¤§: 600ç§’ (10åˆ†é’Ÿ)
     - å¯é…ç½®: TASK_TIMEOUTç¯å¢ƒå˜é‡
   - ç»ˆæ­¢ç­–ç•¥:
     - å‘é€SIGTERM
     - ç­‰å¾…5ç§’
     - å¼ºåˆ¶SIGKILL
   - ä»£ç ç¤ºä¾‹: background-analysis.md ç¬¬416-568è¡Œ

4. **çŠ¶æ€æŒä¹…åŒ–** (T-014)
   - å­˜å‚¨ä½ç½®: ~/.claude/background-tasks/
   - æ ¼å¼: JSON
   - æ¢å¤æœºåˆ¶: åº”ç”¨é‡å¯åæ¢å¤è¿è¡Œä¸­ä»»åŠ¡
   - ä»£ç ç¤ºä¾‹: background-analysis.md ç¬¬570-709è¡Œ

**å…³é”®ä¾èµ–**: æ— æ–°å¢ä¾èµ–

---

### 40. ç¯å¢ƒå˜é‡ (53%)

**ä½ç½®**: `src/env/`

**å·²å®ç°**:
- âœ… åŸºç¡€ç¯å¢ƒå˜é‡è¯»å–
- âœ… ç®€å•éªŒè¯

**å¾…è¡¥é½**:
- âŒ ç¯å¢ƒå˜é‡éªŒè¯å™¨ç³»ç»Ÿ
- âŒ æ•æ„Ÿå˜é‡æ£€æµ‹å’Œæ©ç 
- âŒ éªŒè¯çŠ¶æ€ç±»å‹ (valid/invalid/capped)
- âŒ é…ç½®é™åˆ¶ (æœ€å¤§å€¼ã€æœ€å°å€¼)

**è¯¦ç»†åˆ†æ**: å‚è§ [`docs/comparison/analysis/env-analysis.md`](./analysis/env-analysis.md)

**å…·ä½“å®ç°æ­¥éª¤**:

1. **ç¯å¢ƒå˜é‡éªŒè¯å™¨** (T-015)
   - æ–°å»º: `src/env/validator.ts`
   - æ ¸å¿ƒæ¥å£: EnvVarValidator
   - éªŒè¯å‡½æ•°: validate(value: string) â†’ ValidationResult
   - éªŒè¯ç»“æœç±»å‹:
     - valid: åˆæ³•å€¼
     - invalid: ä¸åˆæ³•,ä½¿ç”¨é»˜è®¤å€¼
     - capped: è¶…å‡ºé™åˆ¶,ä½¿ç”¨ä¸Šé™å€¼
   - å®˜æ–¹å‚è€ƒ: cli.js BASH_MAX_OUTPUT_LENGTH/CLAUDE_CODE_MAX_OUTPUT_TOKENS
   - ä»£ç ç¤ºä¾‹: env-analysis.md ç¬¬145-295è¡Œ

2. **å†…ç½®éªŒè¯å™¨å®ç°** (T-015)
   - æ–‡ä»¶ä½ç½®: `src/env/validators/`
   - å…³é”®éªŒè¯å™¨:
     - BASH_MAX_OUTPUT_LENGTH: é»˜è®¤30000, æœ€å¤§150000
     - CLAUDE_CODE_MAX_OUTPUT_TOKENS: é»˜è®¤32000, æœ€å¤§64000
     - ANTHROPIC_API_KEY: éç©ºå­—ç¬¦ä¸²éªŒè¯
     - æ•°å€¼èŒƒå›´éªŒè¯å™¨
     - å¸ƒå°”å€¼éªŒè¯å™¨
   - ä»£ç ç¤ºä¾‹: env-analysis.md ç¬¬297-420è¡Œ

3. **æ•æ„Ÿå˜é‡æ£€æµ‹** (T-015)
   - æ–°å»º: `src/env/sensitive.ts`
   - æ•æ„Ÿå…³é”®è¯æ£€æµ‹:
     - key, token, secret, password
     - api_key, access_token, private_key
     - ä¸åŒºåˆ†å¤§å°å†™
   - æ©ç ç®—æ³•:
     - â‰¤8å­—ç¬¦: å®Œå…¨æ›¿æ¢ä¸º"***"
     - >8å­—ç¬¦: æ˜¾ç¤ºå‰4+å4,ä¸­é—´"***"
   - å®˜æ–¹å‚è€ƒ: cli.js å‡­è¯æ©ç é€»è¾‘
   - ä»£ç ç¤ºä¾‹: env-analysis.md ç¬¬422-591è¡Œ

4. **ç¯å¢ƒå˜é‡ç®¡ç†å™¨** (T-015)
   - æ–°å»º: `src/env/manager.ts`
   - æ ¸å¿ƒç±»: EnvManager
   - å…³é”®åŠŸèƒ½:
     - æ³¨å†ŒéªŒè¯å™¨
     - è·å–éªŒè¯åçš„å€¼ (get/getNumber/getBoolean)
     - æ‰¹é‡éªŒè¯
     - å¯¼å‡ºå®‰å…¨ç¯å¢ƒå˜é‡ (æ•æ„Ÿå€¼å·²æ©ç )
   - ä»£ç ç¤ºä¾‹: env-analysis.md ç¬¬593-791è¡Œ

**å…³é”®ä¾èµ–**: æ— æ–°å¢ä¾èµ–

---

### 41-44. ç‹¬æœ‰/é«˜å®Œæˆåº¦æ¨¡å—

| æ¨¡å— | å®Œæˆåº¦ | è¯´æ˜ |
|-----|--------|------|
| æ–‡ä»¶æ£€æŸ¥ç‚¹ | 100% | â­ æœ¬é¡¹ç›®ç‹¬æœ‰ |
| WebSocket | 95% | åŸºæœ¬å®Œæ•´ |
| æ¨¡å‹é…ç½® | 93.5% | åŸºæœ¬å®Œæ•´ |
| Action ç”Ÿå‘½å‘¨æœŸ | 83.3% | åŸºæœ¬å®Œæ•´ |

---

## ğŸ”§ å…·ä½“å®æ–½å»ºè®®

### ç¬¬ä¸€å‘¨: P0 ä»»åŠ¡å¯åŠ¨

1. **å®‰å…¨éªŒè¯æ¨¡å—** (2-3 äºº)
   - é˜…è¯» `cli.js` ä¸­ `sanitize`, `validate` ç›¸å…³å‡½æ•°
   - å®ç°å‘½ä»¤æ³¨å…¥æ£€æµ‹: `src/security/injection.ts`
   - æ·»åŠ æ•æ„Ÿä¿¡æ¯è¿‡æ»¤: `src/security/filter.ts`
   - ç¼–å†™æµ‹è¯•ç”¨ä¾‹

2. **ä»£ç è§£æå™¨** (2 äºº)
   - ç ”ç©¶ Tree-sitter API
   - å®ç°ç¬¦å·æå–: `src/parser/symbols.ts`
   - æ·»åŠ æ›´å¤šè¯­è¨€ grammar

### ç¬¬äºŒå‘¨: P0 ä»»åŠ¡å®Œæˆ + P1 å¯åŠ¨

3. **åª’ä½“å¤„ç†** (2 äºº)
   - é›†æˆ pdf-parse åº“
   - å®ç° `src/media/pdf.ts`
   - æ·»åŠ  resvg.wasm æ”¯æŒ

4. **IDE é›†æˆ** (1-2 äºº)
   - å®ç° LSP å®¢æˆ·ç«¯
   - æ·»åŠ è¯Šæ–­ä¿¡æ¯æ˜¾ç¤º

5. **Web å·¥å…·** (1 äºº)
   - é›†æˆ Turndown
   - å®ç°æœç´¢ç¼“å­˜

### ç¬¬ä¸‰å‘¨: P1 å®Œæˆ + P2 å¯åŠ¨

6. **ä¸Šä¸‹æ–‡ç®¡ç†** (1 äºº)
   - å®ç°è‡ªåŠ¨å‹ç¼©ç­–ç•¥
   - ä¼˜åŒ– token ä¼°ç®—

7. **å…¶ä»– P1 ä»»åŠ¡**
   - åå°ä»»åŠ¡ä¼˜åŒ–
   - ç¯å¢ƒå˜é‡å¤„ç†

### ç¬¬å››å‘¨: P2 + æµ‹è¯•

8. å®Œæˆå‰©ä½™ P2 ä»»åŠ¡
9. é›†æˆæµ‹è¯•
10. æ–‡æ¡£æ›´æ–°

---

## ğŸ“‹ è¯¦ç»†åˆ†ææŠ¥å‘Šç´¢å¼•

æœ¬èŠ‚æä¾›æ‰€æœ‰å­Agentåˆ†ææŠ¥å‘Šçš„é“¾æ¥å’Œå†…å®¹æ‘˜è¦,ä¾¿äºå¿«é€ŸæŸ¥æ‰¾ç‰¹å®šåŠŸèƒ½çš„å®ç°ç»†èŠ‚ã€‚

### æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

#### 1. [ä»£ç è§£æå™¨åˆ†æ](./analysis/parser-analysis.md)
- **ä»»åŠ¡ç¼–å·**: T-004, T-005, T-006
- **å®Œæˆåº¦**: 35% â†’ ç›®æ ‡ 80%
- **å…³é”®å†…å®¹**:
  - Tree-sitter Query APIä½¿ç”¨æ–¹æ³•
  - ç¬¦å·æå–å’Œå¼•ç”¨æŸ¥æ‰¾å®ç°
  - 40+è¯­è¨€æ”¯æŒæ–¹æ¡ˆ
  - å®˜æ–¹å‚è€ƒ: cli.js tree-sitterç›¸å…³ä»£ç 
- **å®æ–½ä¼˜å…ˆçº§**: P0 (ç´§æ€¥)

#### 2. [å®‰å…¨éªŒè¯åˆ†æ](./analysis/security-analysis.md)
- **ä»»åŠ¡ç¼–å·**: T-001, T-002, T-003
- **å®Œæˆåº¦**: 42.5% â†’ ç›®æ ‡ 85%
- **å…³é”®å†…å®¹**:
  - å‘½ä»¤æ³¨å…¥æ£€æµ‹ (15ç§å±é™©æ¨¡å¼)
  - æ•æ„Ÿä¿¡æ¯è¿‡æ»¤å’Œæ©ç ç®—æ³•
  - è¿è¡Œæ—¶è¡Œä¸ºç›‘æ§ (ç½‘ç»œ/æ–‡ä»¶/å‘½ä»¤æ‹¦æˆª)
  - é…ç½®éªŒè¯ç³»ç»Ÿ (26ä¸ªæ£€æŸ¥é¡¹)
- **å®æ–½ä¼˜å…ˆçº§**: P0 (ç´§æ€¥)

### åª’ä½“å’Œæ–‡æ¡£å¤„ç†

#### 3. [åª’ä½“å¤„ç†åˆ†æ](./analysis/media-analysis.md)
- **ä»»åŠ¡ç¼–å·**: T-007, T-008
- **å®Œæˆåº¦**: 47% â†’ ç›®æ ‡ 85%
- **å…³é”®å†…å®¹**:
  - PDFå¤„ç† (base64ç¼–ç æ–¹æ¡ˆ, 32MBé™åˆ¶)
  - å›¾ç‰‡å¤„ç† (Sharpå‹ç¼©, 400x400æœ€å¤§å°ºå¯¸, Tokené™åˆ¶25000)
  - SVGæ¸²æŸ“ (å¯é€‰, ä½¿ç”¨resvg.wasm)
  - MIMEç±»å‹æ£€æµ‹ (åŸºäºæ–‡ä»¶å¤´)
- **å®æ–½ä¼˜å…ˆçº§**: P0 (ä¼˜å…ˆ)
- **å®˜æ–¹å‚è€ƒ**: cli.js è¡Œ495 (XzB/CP3/zP3/BQ0å‡½æ•°)

### IDEå’Œå¼€å‘å·¥å…·

#### 4. [IDEé›†æˆåˆ†æ](./analysis/ide-analysis.md)
- **ä»»åŠ¡ç¼–å·**: T-009, T-010
- **å®Œæˆåº¦**: 45% â†’ ç›®æ ‡ 75%
- **å…³é”®å†…å®¹**:
  - LSPæœåŠ¡å™¨ç®¡ç†å™¨ (LSPServer/LSPServerManagerç±»)
  - LSPåè®®é€šä¿¡ (JSON-RPC, textDocumentåŒæ­¥)
  - 9ç§LSPæ“ä½œ (å®šä¹‰è·³è½¬ã€å¼•ç”¨æŸ¥æ‰¾ã€hoverç­‰)
  - è¯Šæ–­ä¿¡æ¯é›†æˆ (publishDiagnosticså¤„ç†)
- **å®æ–½ä¼˜å…ˆçº§**: P0 (ä¼˜å…ˆ)
- **å®˜æ–¹å‚è€ƒ**: cli.js è¡Œ2927-3119
- **ä¾èµ–**: vscode-languageserver-protocol, typescript-language-server, pyright

### ç½‘ç»œå’ŒWebåŠŸèƒ½

#### 5. [Webå·¥å…·åˆ†æ](./analysis/web-analysis.md)
- **ä»»åŠ¡ç¼–å·**: T-011, T-012
- **å®Œæˆåº¦**: 45% â†’ ç›®æ ‡ 80%
- **å…³é”®å†…å®¹**:
  - Turndowné›†æˆä¼˜åŒ– (GFMæ‰©å±•, è‡ªå®šä¹‰è§„åˆ™)
  - WebSearchç¼“å­˜å®ç° (LRU, 1å°æ—¶TTL, 500æ¡ç›®)
  - æœç´¢APIé›†æˆé€‰é¡¹ (DuckDuckGo/Bing/Google)
  - WebFetchç¼“å­˜ (15åˆ†é’ŸTTL, 50MB)
- **å®æ–½ä¼˜å…ˆçº§**: P1 (é‡è¦)
- **ä¾èµ–**: turndown-plugin-gfm

### ä¸Šä¸‹æ–‡å’Œä¼šè¯ç®¡ç†

#### 6. [ä¸Šä¸‹æ–‡ç®¡ç†åˆ†æ](./analysis/context-analysis.md)
- **ä»»åŠ¡ç¼–å·**: T-013 (åŒ…å«10ä¸ªå­æ­¥éª¤)
- **å®Œæˆåº¦**: 55% â†’ ç›®æ ‡ 80%
- **å…³é”®å†…å®¹**:
  - ä»API responseæå–çœŸå®Tokenæ•° (usageå­—æ®µ)
  - æ™ºèƒ½æ‘˜è¦ç”Ÿæˆ (ä½¿ç”¨Claude API, 5-10å­—æ ‡é¢˜)
  - åŠ¨æ€ä¸Šä¸‹æ–‡çª—å£ (å°æ¨¡å‹80%è¾“å…¥, å¤§æ¨¡å‹ä¿ç•™50kè¾“å‡º)
  - ä¸Šä¸‹æ–‡æº¢å‡ºè‡ªåŠ¨æ¢å¤ (åŠ¨æ€è°ƒæ•´max_tokens)
  - Session Resumeæ”¯æŒ (æ‘˜è¦ç¼“å­˜, ~/.claude/sessions/summaries/)
  - æ¶ˆæ¯å†å²è‡ªåŠ¨æ¸…ç† (30å¤©è¿‡æœŸ)
- **å®æ–½ä¼˜å…ˆçº§**: P1 (é‡è¦)
- **å®˜æ–¹å‚è€ƒ**: cli.js gK()/fW7()/kW7()/VY2()/l71()å‡½æ•°

### ç³»ç»Ÿå®‰å…¨å’Œéš”ç¦»

#### 7. [æ²™ç®±ç³»ç»Ÿåˆ†æ](./analysis/sandbox-analysis.md)
- **ä»»åŠ¡ç¼–å·**: T-016, T-017
- **å®Œæˆåº¦**: 60% â†’ ç›®æ ‡ 85%
- **å…³é”®å†…å®¹**:
  - Bubblewrapå®ç° (Linux, å·²å®ç°)
  - macOS Seatbeltæ”¯æŒ (sandbox-exec, .sbé…ç½®æ–‡ä»¶)
  - Dockerå®¹å™¨æ¨¡å¼ (å†…å­˜/CPUé™åˆ¶, ç½‘ç»œéš”ç¦»)
  - èµ„æºé™åˆ¶ (cgroups v2: cpu.max, memory.max, pids.max)
- **å®æ–½ä¼˜å…ˆçº§**: P1
- **å®˜æ–¹å‚è€ƒ**: cli.js dangerouslyDisableSandboxå‚æ•°

### åå°ä»»åŠ¡å’Œç¯å¢ƒ

#### 8. [åå°ä»»åŠ¡åˆ†æ](./analysis/background-analysis.md)
- **ä»»åŠ¡ç¼–å·**: T-014
- **å®Œæˆåº¦**: 56% â†’ ç›®æ ‡ 80%
- **å…³é”®å†…å®¹**:
  - ä»»åŠ¡é˜Ÿåˆ—ç³»ç»Ÿ (SimpleTaskQueue, FIFO, ä¼˜å…ˆçº§)
  - å¹¶å‘æ§åˆ¶ (MAX_BACKGROUND_SHELLS=10)
  - è¶…æ—¶å¤„ç† (é»˜è®¤120s, æœ€å¤§600s, SIGTERMâ†’SIGKILL)
  - çŠ¶æ€æŒä¹…åŒ– (JSON, ~/.claude/background-tasks/)
  - åå°Shellç®¡ç† (Mapæ•°æ®ç»“æ„, çŠ¶æ€å­—æ®µ)
- **å®æ–½ä¼˜å…ˆçº§**: P1
- **å®˜æ–¹å‚è€ƒ**: cli.js MAX_BACKGROUND_SHELLSå¸¸é‡

#### 9. [ç¯å¢ƒå˜é‡åˆ†æ](./analysis/env-analysis.md)
- **ä»»åŠ¡ç¼–å·**: T-015
- **å®Œæˆåº¦**: 53% â†’ ç›®æ ‡ 80%
- **å…³é”®å†…å®¹**:
  - ç¯å¢ƒå˜é‡éªŒè¯å™¨ç³»ç»Ÿ (EnvVarValidatoræ¥å£)
  - éªŒè¯ç»“æœç±»å‹ (valid/invalid/capped)
  - å†…ç½®éªŒè¯å™¨ (BASH_MAX_OUTPUT_LENGTH, CLAUDE_CODE_MAX_OUTPUT_TOKENS)
  - æ•æ„Ÿå˜é‡æ£€æµ‹ (38ç§æ¨¡å¼: key/token/secret/password)
  - æ©ç ç®—æ³• (â‰¤8å­—ç¬¦å…¨æ©ç , >8å­—ç¬¦å‰4+å4)
- **å®æ–½ä¼˜å…ˆçº§**: P1
- **å®˜æ–¹å‚è€ƒ**: cli.js BASH_MAX_OUTPUT_LENGTH/CLAUDE_CODE_MAX_OUTPUT_TOKENSé…ç½®

### ç”¨æˆ·äº¤äº’

#### 10. [é”®ç›˜äº¤äº’åˆ†æ](./analysis/keyboard-analysis.md)
- **ä»»åŠ¡ç¼–å·**: T-018
- **å®Œæˆåº¦**: 58% â†’ ç›®æ ‡ 75%
- **å…³é”®å†…å®¹**:
  - Vimæ¨¡å¼å®ç° (y/p/dd/r/C/D/Aå‘½ä»¤)
  - Shift+Enterå¤šè¡Œè¾“å…¥ (escapeåºåˆ—\x1b\r)
  - å…¨å±€å¿«æ·é”® (Ctrl+O/T/S/Z: verbose/todos/stash/suspend)
  - è‡ªå®šä¹‰å¿«æ·é”®é…ç½® (~/.claude/keybindings.json)
  - ç»ˆç«¯é…ç½®æŒ‡å— (WezTerm/Kitty/iTerm2/Alacritty)
- **å®æ–½ä¼˜å…ˆçº§**: P2
- **å®˜æ–¹å‚è€ƒ**: cli.js vimæ¨¡å¼å’Œå…¨å±€å¿«æ·é”®å¤„ç†

---

## ğŸ“š å‚è€ƒèµ„æº

### å®˜æ–¹æºç å…³é”®ä½ç½®

```
node_modules/@anthropic-ai/claude-code/cli.js

æœç´¢å…³é”®è¯:
- "tree-sitter" - ä»£ç è§£æç›¸å…³
- "sandbox" - æ²™ç®±ç›¸å…³
- "security" - å®‰å…¨ç›¸å…³
- "LSP" - IDE é›†æˆç›¸å…³
- "pdf" - PDF å¤„ç†ç›¸å…³
```

### æœ¬é¡¹ç›®æºç ç»“æ„

```
src/
â”œâ”€â”€ cli.ts              # CLI å…¥å£
â”œâ”€â”€ core/               # æ ¸å¿ƒå¼•æ“
â”‚   â”œâ”€â”€ client.ts       # API å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ loop.ts         # ä¼šè¯å¾ªç¯
â”‚   â””â”€â”€ session.ts      # ä¼šè¯ç®¡ç†
â”œâ”€â”€ tools/              # å·¥å…·ç³»ç»Ÿ
â”œâ”€â”€ permissions/        # æƒé™ç³»ç»Ÿ
â”œâ”€â”€ sandbox/            # æ²™ç®±ç³»ç»Ÿ
â”œâ”€â”€ parser/             # ä»£ç è§£æ
â”œâ”€â”€ media/              # åª’ä½“å¤„ç†
â”œâ”€â”€ security/           # å®‰å…¨éªŒè¯
â”œâ”€â”€ network/            # ç½‘ç»œä»£ç†
â”œâ”€â”€ checkpoint/         # æ–‡ä»¶æ£€æŸ¥ç‚¹ â­
â””â”€â”€ ui/                 # UI ç»„ä»¶
```

---

## âœ… ä»»åŠ¡è®¤é¢†è¡¨

| ä»»åŠ¡ç¼–å· | æ¨¡å— | ä»»åŠ¡æè¿° | å·¥ä½œé‡ | è®¤é¢†äºº | çŠ¶æ€ |
|---------|-----|---------|-------|-------|-----|
| T-001 | security | å‘½ä»¤æ³¨å…¥æ£€æµ‹ | 3å¤© | | å¾…è®¤é¢† |
| T-002 | security | æ•æ„Ÿä¿¡æ¯è¿‡æ»¤ | 2å¤© | | å¾…è®¤é¢† |
| T-003 | security | è¿è¡Œæ—¶ç›‘æ§ | 3å¤© | | å¾…è®¤é¢† |
| T-004 | parser | ç¬¦å·æå– | 3å¤© | | å¾…è®¤é¢† |
| T-005 | parser | å¼•ç”¨æŸ¥æ‰¾ | 2å¤© | | å¾…è®¤é¢† |
| T-006 | parser | å¤šè¯­è¨€æ”¯æŒ | 3å¤© | | å¾…è®¤é¢† |
| T-007 | media | PDF è§£æ | 3å¤© | | å¾…è®¤é¢† |
| T-008 | media | SVG æ¸²æŸ“ | 2å¤© | | å¾…è®¤é¢† |
| T-009 | ide | LSP å®¢æˆ·ç«¯ | 5å¤© | | å¾…è®¤é¢† |
| T-010 | ide | è¯Šæ–­æ˜¾ç¤º | 2å¤© | | å¾…è®¤é¢† |
| T-011 | web | Turndown é›†æˆ | 2å¤© | | å¾…è®¤é¢† |
| T-012 | web | æœç´¢ç¼“å­˜ | 2å¤© | | å¾…è®¤é¢† |
| T-013 | context | è‡ªåŠ¨å‹ç¼© | 3å¤© | | å¾…è®¤é¢† |
| T-014 | background | ä»»åŠ¡é˜Ÿåˆ— | 3å¤© | | å¾…è®¤é¢† |
| T-015 | env | å˜é‡éªŒè¯ | 2å¤© | | å¾…è®¤é¢† |
| T-016 | sandbox | macOS æ”¯æŒ | 4å¤© | | å¾…è®¤é¢† |
| T-017 | sandbox | Docker æ¨¡å¼ | 4å¤© | | å¾…è®¤é¢† |
| T-018 | keyboard | å¿«æ·é”®æ‰©å±• | 2å¤© | | å¾…è®¤é¢† |
| T-019 | auth | å¤šå› ç´ è®¤è¯ | 3å¤© | | å¾…è®¤é¢† |
| T-020 | plan | è®¡åˆ’æŒä¹…åŒ– | 2å¤© | | å¾…è®¤é¢† |

---

## ğŸ“Š è¿›åº¦è¿½è¸ª

- [ ] P0 å®‰å…¨éªŒè¯ (0/3)
- [ ] P0 ä»£ç è§£æ (0/3)
- [ ] P0 åª’ä½“å¤„ç† (0/2)
- [ ] P0 IDE é›†æˆ (0/2)
- [ ] P1 Web å·¥å…· (0/2)
- [ ] P1 ä¸Šä¸‹æ–‡ç®¡ç† (0/1)
- [ ] P1 åå°ä»»åŠ¡ (0/1)
- [ ] P1 ç¯å¢ƒå˜é‡ (0/1)
- [ ] P1 é”®ç›˜äº¤äº’ (0/1)
- [ ] P2 æ²™ç®±ç³»ç»Ÿ (0/2)
- [ ] P2 è®¤è¯æˆæƒ (0/1)
- [ ] P2 Plan æ¨¡å¼ (0/1)

---

*æ–‡æ¡£ç”Ÿæˆæ—¶é—´: 2025-12-26*
*åŸºäº 44 ä¸ªæ¨¡å—çš„å­ä»£ç†æ·±åº¦åˆ†æ*
